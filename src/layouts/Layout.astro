---
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import { ViewTransitions } from "astro:transitions";
import "../assets/styles/tailwind.css";

interface Props {
    title: string;
    background?: string;
}
const {
    title,
    background = "bg-[radial-gradient(ellipse_at_bottom_right,_var(--tw-gradient-stops))] from-skin-base to-skin-muted",
} = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/png" href="/blingus_cropped_icon.png" />
        <!-- <link rel="preconnect" href="https://fonts.googleapis.com" /> -->
        <!-- <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
        <!-- <link -->
        <!--     href="https://fonts.googleapis.com/css2?family=Inclusive+Sans&display=swap" -->
        <!--     rel="stylesheet" -->
        <!-- /> -->
        <meta name="generator" content={Astro.generator} />
        <title>Nick Allen | {title}</title>
        <script is:inline>
            const setTheme = () => {
                const classList = document.documentElement.classList;

                for (let c of classList) {
                    classList.remove(c);
                }
                const key = "theme";
                if (typeof localStorage !== undefined) {
                    const storedTheme = localStorage.getItem(key);
                    classList.add(storedTheme);
                }
            };
            setTheme();
            document.addEventListener("astro:after-swap", setTheme);
        </script>

        <ViewTransitions />
    </head>
    <body
        class:list={[
            "flex min-h-screen w-full flex-col justify-between ",
            "text-skin-base",
        ]}
    >
        <!-- Background -->
        <div class:list={["fixed -z-50 h-full w-full", background]}></div>

        <header class="flex w-full">
            <Nav />
        </header>

        <div class="flex grow flex-col">
            <slot />
        </div>

        <Footer />

        <style is:global>
            html {
                font-family: system-ui, sans-serif;
                background: var(--color-bg-base);
                background-size: 224px;
                color: var(--color-text-base);
                font-size: 18px;
            }

            code {
                font-family:
                    Menlo,
                    Monaco,
                    Lucida Console,
                    Liberation Mono,
                    DejaVu Sans Mono,
                    Bitstream Vera Sans Mono,
                    Courier New,
                    monospace;
            }
        </style>
    </body>
</html>
